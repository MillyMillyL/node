{"mappings":";;;ACAA,2BAA2B;AAKpB,MAAM,4CAAQ,OAAO,OAAO;IACjC,IAAI;QACF,MAAM,MAAM,MAAM,CAAA,GAAA,YAAI,EAAE;YACtB,QAAQ;YACR,KAAK;YACL,MAAM;uBAAE;0BAAO;YAAS;QAC1B;QAEA,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,WAAW;YACjC,MAAM;YACN,OAAO,UAAU,CAAC;gBAChB,SAAS,MAAM,CAAC;YAClB,GAAG;QACL;IACF,EAAE,OAAO,OAAO;QACd,MAAM,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO;IACnC;AACF;;;ACtBA,2BAA2B,GAC3B,iCAAiC,GAE1B,MAAM,4CAAa,CAAC;IACzB,SAAS,WAAW,GAClB;IACF,MAAM,MAAM,IAAI,SAAS,GAAG,CAAC;QAC3B,WAAW;QACX,OAAO;QACP,YAAY;IAId;IAEA,MAAM,SAAS,IAAI,SAAS,YAAY;IAExC,UAAU,OAAO,CAAC,CAAC;QACjB,gBAAgB;QAChB,MAAM,KAAK,SAAS,aAAa,CAAC;QAClC,GAAG,SAAS,GAAG;QAEf,YAAY;QACZ,IAAI,SAAS,MAAM,CAAC;YAAE,SAAS;YAAI,QAAQ;QAAS,GACjD,SAAS,CAAC,IAAI,WAAW,EACzB,KAAK,CAAC;QAET,WAAW;QACX,IAAI,SAAS,KAAK,CAAC;YAAE,QAAQ;QAAG,GAC7B,SAAS,CAAC,IAAI,WAAW,EACzB,OAAO,CAAC,CAAC,OAAO,EAAE,IAAI,GAAG,CAAC,EAAE,EAAE,IAAI,WAAW,CAAC,IAAI,CAAC,EACnD,KAAK,CAAC;QAET,+CAA+C;QAC/C,OAAO,MAAM,CAAC,IAAI,WAAW;IAC/B;IAEA,IAAI,SAAS,CAAC,QAAQ;QACpB,SAAS;YACP,KAAK;YACL,QAAQ;YACR,MAAM;YACN,OAAO;QACT;IACF;AACF;;;;AFzCA,cAAc;AACd,MAAM,+BAAS,SAAS,cAAc,CAAC;AACvC,MAAM,kCAAY,SAAS,aAAa,CAAC;AAEzC,QAAQ;AACR,MAAM,8BAAQ,SAAS,cAAc,CAAC,SAAS,KAAK;AACpD,MAAM,iCAAW,SAAS,cAAc,CAAC,YAAY,KAAK;AAE1D,YAAY;AACZ,IAAI,iCACF,gCAAU,gBAAgB,CAAC,UAAU,CAAC;IACpC,EAAE,cAAc;IAChB,CAAA,GAAA,yCAAI,EAAE,6BAAO;AACf;AAGF,IAAI,8BAAQ;IACV,MAAM,YAAY,KAAK,KAAK,CAAC,6BAAO,OAAO,CAAC,SAAS;IACrD,CAAA,GAAA,yCAAS,EAAE;AACb","sources":["public/js/index.js","public/js/login.js","public/js/mapbox.js"],"sourcesContent":["import { login } from './login';\r\nimport { displayMap } from './mapbox';\r\nimport '@babel/polyfill';\r\n\r\n//DOM elements\r\nconst mapBox = document.getElementById('map');\r\nconst loginForm = document.querySelector('.form');\r\n\r\n//values\r\nconst email = document.getElementById('email').value;\r\nconst password = document.getElementById('password').value;\r\n\r\n//delegation\r\nif (loginForm) {\r\n  loginForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    login(email, password);\r\n  });\r\n}\r\n\r\nif (mapBox) {\r\n  const locations = JSON.parse(mapBox.dataset.locations);\r\n  displayMap(locations);\r\n}\r\n","/* eslint-disable no-undef */\r\nimport axios from 'axios';\r\n\r\nimport axios from 'axios';\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: 'http://127.0.0.1:3000/api/v1/users/login',\r\n      data: { email, password },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      alert('Logged in successfully');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    alert(error.response.data.message);\r\n  }\r\n};\r\n","/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n\r\nexport const displayMap = (locations) => {\r\n  mapboxgl.accessToken =\r\n    'pk.eyJ1IjoibW1sbG1tIiwiYSI6ImNsc3oybGN1czBsM2wyb21uNm1yY3p4bGcifQ.aFAbWIHZ30OxWryyQghicg';\r\n  const map = new mapboxgl.Map({\r\n    container: 'map',\r\n    style: 'mapbox://styles/mmllmm/clsz83voc01es01p64lnedg60',\r\n    scrollZoom: false,\r\n    //   center: [-74.3093438, 40.6975399],\r\n    //   zoom: 8,\r\n    //   interactive: false,\r\n  });\r\n\r\n  const bounds = new mapboxgl.LngLatBounds();\r\n\r\n  locations.forEach((loc) => {\r\n    // create marker\r\n    const el = document.createElement('div');\r\n    el.className = 'marker';\r\n\r\n    //add marker\r\n    new mapboxgl.Marker({ element: el, anchor: 'bottom' })\r\n      .setLngLat(loc.coordinates)\r\n      .addTo(map);\r\n\r\n    //add popup\r\n    new mapboxgl.Popup({ offset: 30 })\r\n      .setLngLat(loc.coordinates)\r\n      .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n      .addTo(map);\r\n\r\n    //extend map bounds to include current location\r\n    bounds.extend(loc.coordinates);\r\n  });\r\n\r\n  map.fitBounds(bounds, {\r\n    padding: {\r\n      top: 200,\r\n      bottom: 150,\r\n      left: 100,\r\n      right: 100,\r\n    },\r\n  });\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../../"}